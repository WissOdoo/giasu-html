String.prototype.replaceAll=function(c,d){var a=this;var b=a.indexOf(c);while(b!=-1){a=a.replace(c,d);b=a.indexOf(c)}return a};$.fn.formdisabled=function(){var a=$(this);a.find("input[type=text],input[type=password],input[type=radio],input[type=checkbox],textarea,select").prop("readonly",true)};$.fn.formenabled=function(){var a=$(this);a.find("input[type=text],input[type=password],input[type=radio],input[type=checkbox],textarea,select").prop("readonly",false)};if(typeof FV=="undefined"){var FV={}}if(typeof FV.login=="undefined"){FV.login={}}if(typeof FV.base_url=="undefined"){FV.base_url=$("base").attr("href")}if(typeof FV.style_message=="undefined"){FV.style_message={};FV.style_message.success="alert-message-success";FV.style_message.error="alert-message-warning"}if(typeof FV.login.error=="undefined"){FV.login.error=null}if(typeof FV.login.error_after_ajax=="undefined"){FV.login.error_after_ajax=null}if(typeof FV.login.result=="undefined"){FV.login.result=null}FV.send_message=function(b){var d=$(b).attr("data-id"),a=$(".modal-message"),c=a.find(".description");c.keyup(function(){if($.trim(c.val())!=""){c.removeClass("error")}});if($.trim(c.val())==""){c.addClass("error");return false}a.formdisabled();$(b).parent().find(".btn").hide();$(b).parent().find("img").show();$.ajax({type:"POST",url:FV.base_url+"/ajax/message/send_message",dataType:"json",data:{id:d,text:c.val()},success:function(e){a.formenabled();$(b).parent().find(".btn").show();$(b).parent().find("img").hide();if(e.error){alert(e.error)}else{if(e.message){alert(e.message);c.val("");$("#myModalMessage").modal("hide")}else{alert("Có lỗi xãy ra, vui lòng thử lại!")}}}});return false};jQuery(document).ready(function(a){a(".login-form .email,.login-form .password").keydown(function(b){if(b.keyCode==13){a(".login-form button").click()}})});login_ajax=function(d){var c={},e=$("base").attr("href");c.status=0;c.error="";var b=$.trim(jQuery(d).find(".email").val()),a=$.trim(jQuery(d).find(".password").val()),f=$.trim(jQuery(d).find(".remember").val());f=(f=="on"?1:0);if(b==""||a==""){c.error="Vui lòng điền đầy đủ thông tin!";return c}$.ajax({type:"POST",url:e+"dang-nhap/ajax",dataType:"json",data:{email:b,password:a,remember:f},success:function(g){FV.login.result=g}});return false};var __slice2=[].slice;(function(b){var a;a=(function(){c.prototype.defaults={title:null,content:null,placement:"bottom",stylewrap:"popover-success",stylehead:"style-success",stylebody:null,stylebody:null,showfirst:"1",isvisible:"0",containw:null,width:null};function c(g,e){var f,d,h,j=this;this.options=b.extend({},this.defaults,e);this.$el=g;this.data=this.$el.data();h=this.defaults;for(f in h){if(this.data[f]!=null){this.options[f]=this.data[f]}}j.open();b('[data-dismiss="popover"]').on("click",function(){j.close()})}c.prototype.open=function(){var d="",f=this,e=0;if(f.options.containw&&f.$el.closest(f.options.containw).size()>0){e=parseInt(f.$el.closest(f.options.containw).width())+10;d='style="width:'+e+'px;"'}else{if(f.options.width){e=parseInt(f.options.width)+10;d='style="width:'+e+'px;"'}else{if(f.$el.width()>0){e=parseInt(f.$el.width())+10;d='style="width:'+e+'px;"'}}}if(f.options.showfirst=="1"){f.$el.popover({container:"body",trigger:"manual",title:f.options.title,content:f.options.content,html:true,placement:f.options.placement,template:'<div class="popover popover-tip '+f.options.stylewrap+'" '+d+' role="tooltip"><div class="arrow"></div><a class="btn btn-icon-toggle btn-default-light pull-right" data-dismiss="popover"><i class="md md-close"></i></a><div class="card"><div class="card-body popover-title  '+f.options.stylehead+'"></div><div class="card-body popover-content"></div></div></div>'}).on("click focus",function(g){b('[data-dismiss="popover"]').on("click",function(){f.close()});if(f.options.isvisible=="1"){return false}f.$el.popover("show");b(".popover").off("click").on("click",function(h){h.stopPropagation()});f.options.isvisible="1";f.$el.attr("data-isvisible","1");g.stopPropagation()})}else{f.$el.popover({container:"body",trigger:"click",title:this.options.title,content:this.options.content,html:true,placement:this.options.placement,template:'<div class="popover popover-tip '+this.options.stylewrap+'" '+d+' role="tooltip"><div class="arrow"></div><a class="btn btn-icon-toggle btn-default-light pull-right" data-dismiss="popover"><i class="md md-close"></i></a><div class="card"><div class="card-body popover-title  '+this.options.stylehead+'"></div><div class="card-body popover-content"></div></div></div>'}).on("click",function(g){b('[data-dismiss="popover"]').on("click",function(){f.close()})})}};c.prototype.close=function(){this.$el.popover("hide")};return c})();return b.fn.extend({tip:function(){var c,d;d=arguments[0],c=2<=arguments.length?__slice2.call(arguments,1):[];return this.each(function(){var e;e=b(this).data("popover-tip");if(!e){b(this).data("popover-tip",(e=new a(b(this),d)))}if(typeof d==="string"){return e[d].apply(e,c)}})}})})(jQuery);var __slice3=[].slice;(function(b){var a;a=(function(){c.prototype.defaults={length:100,type:3,format:"You have _CURRENT_/_TOTAL_ characters remaining",format_2:"_REMAINING_",format_3:"_CURRENT_"};function c(f,d){var e,g,h=this;this.options=b.extend({},this.defaults,d);this.$el=f;this.data=this.$el.data();g=this.defaults;for(e in g){if(this.data[e]!=null){this.options[e]=this.data[e]}}this.calc()}c.prototype.reset=function(){this.$el.prev().hide().html("")};c.prototype.calc=function(){var e="",d=parseInt(this.options.length),f=this;f.$el.on("keyup focus blur",function(){if(f.options.type>0){var h=b.trim(b(this).val()).length,g=d-h;if(f.options.type==1){if(b(this).val().length>d){b(this).val(b(this).val().substr(0,d))}if(isNaN(h)){f.reset()}else{e=(f.options.format).replaceAll("_CURRENT_",h);e=e.replaceAll("_TOTAL_",d);f.$el.prev().html(e)}}else{if(f.options.type==2){if(b(this).val().length>d){b(this).val(b(this).val().substr(0,d))}if(isNaN(g)){f.reset()}else{e=(f.options.format_2).replaceAll("_REMAINING_",g);f.$el.prev().html(e)}}else{if(isNaN(h)){f.reset()}else{e=(f.options.format_3).replaceAll("_CURRENT_",h);f.$el.prev().html(e)}}}}})};return c})();return b.fn.extend({lengthinput:function(){var c,d;d=arguments[0],c=2<=arguments.length?__slice3.call(arguments,1):[];return this.each(function(){var e;e=b(this).data("length-input");if(!e){b(this).data("length-input",(e=new a(b(this),d)))}if(typeof d==="string"){return e[d].apply(e,c)}})}})})(jQuery);(function(a){a.fn.formdisabled=function(){var b=a(this);b.find("input[type=text],input[type=password],input[type=radio],input[type=checkbox],textarea,select").prop("readonly",true)};a.fn.formenabled=function(){var b=a(this);b.find("input[type=text],input[type=password],input[type=radio],input[type=checkbox],textarea,select").prop("readonly",false)}})(jQuery);(function(a){a.fn.welcometext=function(){var h=a(this),g=[],e=new Date(),b=e.getHours(),d="";g[0]={f:4,t:12,m:"Chúc bạn ngày mới mọi việc thuận lợi."};g[1]={f:12,t:18,m:"Chúc bạn buổi chiều vui vẻ."};g[2]={f:18,t:21,m:"Chúc bạn buổi tối vui vẻ."};g[3]={f:21,t:4,m:'Chúc bạn ngủ ngon <i class="fa fa-smile-o"></i>'};for(var c=0;c<g.length;c++){var f=g[c];if(b>=f.f&&b<f.t){d=f.m}}if(d){h.show().html(d)}else{h.hide().html("")}}})(jQuery);(function(a){a.fn.getOrderTotal=function(){var E=a(this),m=a(".order-amount"),o=a(".order-transaction-cost"),D=a(".order-manage-fee"),B=a(".order-vat-fee"),s=a(".order-total"),t=a(".order-manage-fee-discount"),C=a(".order-discount-wrap"),z=a('input[name="amount"]'),h=a('input[name="fee"]'),e=a('input[name="fee_m"]'),x=a('input[name="fee_vat"]'),v=a('input[name="max_discount"]'),i=a('input[name="discount"]'),k=a('input[name="discount_t"]'),A=a('input[name="discount_m_f"]'),u=a('input[name="discount_m_f_t"]'),l=parseInt(z.val()),b=parseInt(h.val()),y=parseInt(e.val()),r=parseInt(x.val()),w=0,F=0,d=0,p=parseInt(v.val()),f=parseInt(i.val()),j=0,g=parseInt(k.val()),q=parseInt(A.val()),n=parseInt(u.val()),c=0,G=0;F=(y<=0?0:(l*y/100));if(F>0&&q>0){switch(n){case 1:c=q;break;case 2:c=(F*q/100);break}F=F-c;if(F<0){F=0}}G=l+F;switch(g){case 1:j=f;break;case 2:j=(G*f/100);break}if(p>0&&j>p){j=p}G=G-j;if(G<=0){G=0;w=0;d=0}else{w=(b<=0?0:(G*b/100));G=G+w;d=(r<=0?0:(G*r/100));G=G+d}m.html(l);m.priceFormat({suffix:"đ"});o.html(w);o.priceFormat({suffix:"đ"});D.html(F+c);D.priceFormat({suffix:"đ"});if(c>0){t.show().html(F);t.priceFormat({suffix:"đ"});t.addClass("text-success");t.next().addClass("text-line-through").addClass("text-italic")}else{t.hide();t.removeClass("text-success");t.next().removeClass("text-line-through").removeClass("text-italic")}if(j>0){C.show();C.find(".order-discount").html(j);C.find(".order-discount").priceFormat({suffix:"đ",prefix:"-"})}else{C.hide()}B.html(d);B.priceFormat({suffix:"đ"});s.html(G);s.priceFormat({suffix:"đ"})}})(jQuery);jQuery(document).ready(function(c){c("body").on("click",function(d){if(c(d.target).data("toggle")!=="popover"){c('[data-toggle="popover"]').popover("hide")}});if(c(".user-activation").size()>0){var b=c(".user-activation").outerHeight(true),a=c(window).width();if(a<=768){c(".header-fixed #header").css("marginTop",b)}else{c(".header-fixed #header").css("marginTop",0)}c(window).resize(function(){var e=c(".user-activation").outerHeight(true),d=c(window).width();if(d<=768){c(".header-fixed #header").css("marginTop",e)}else{c(".header-fixed #header").css("marginTop",0)}})}});function extend_quotation(b){var a=$(b).attr("data-id");$("body").openLoading();$.ajax({url:"joers/quotation/extendjob",type:"post",data:{id:a},dataType:"json",success:function(c){$("body").closeLoading();if(c.error){toastr.error(c.error,"")}else{if(c.message){$(b).closest($(".offcanvas-body")).html(c.message)}else{toastr.error("Có lỗi xảy ra, vui lòng thử lại","")}}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","");$("body").closeLoading()}})}function contactJO(b){var a=$(b).attr("data-id");$("body").openLoading();$.ajax({url:"fers/fers/contactjo",type:"post",data:{jid:a},dataType:"json",success:function(c){$("body").closeLoading();if(c.error){toastr.error(c.error,"")}else{if(c.message){$(b).closest($(".offcanvas-body")).html(c.message)}else{toastr.error("Có lỗi xảy ra, vui lòng thử lại","")}}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","");$("body").closeLoading()}})}function contactJobOwner(b){var a=$(b).attr("data-id");$("body").openLoading();$.ajax({url:"fers/fers/contactjobowner",type:"post",data:{id:a},dataType:"json",success:function(c){$("body").closeLoading();if(c.error){toastr.error(c.error,"")}else{if(c.message){$(b).closest($(".offcanvas-body")).html(c.message)}else{toastr.error("Có lỗi xảy ra, vui lòng thử lại","")}}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","");$("body").closeLoading()}})}function contactfe(b){var a=$(b).attr("data-id");$("body").openLoading();$.ajax({url:"contact/fer/contactfe",type:"post",data:{id:a},dataType:"json",success:function(c){$("body").closeLoading();if(c.error){toastr.error(c.error,"")}else{if(c.message){$(b).closest($(".offcanvas-body")).html(c.message)}else{toastr.error("Có lỗi xảy ra, vui lòng thử lại","")}}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","");$("body").closeLoading()}})}function featuredJob(b){var a=$(b).attr("data-id");$("body").openLoading();$.ajax({url:"joers/joers/featuredjob",type:"post",data:{jid:a},dataType:"json",success:function(c){$("body").closeLoading();if(c.error){toastr.error(c.error,"")}else{if(c.message){$(b).closest($(".offcanvas-body")).html(c.message)}else{toastr.error("Có lỗi xảy ra, vui lòng thử lại","")}}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","");$("body").closeLoading()}})}function featuredContact(a){$("body").openLoading();$.ajax({url:"fers/fers/featureduser",type:"post",dataType:"json",success:function(b){$("body").closeLoading();if(b.error){toastr.error(b.error,"")}else{if(b.message){$(a).closest($(".offcanvas-body")).html(b.message)}else{toastr.error("Có lỗi xảy ra, vui lòng thử lại","")}}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","");$("body").closeLoading()}})}function shortlist(b){var a=$(b).attr("data-id");$.ajax({url:"joers/joers/shortlist",type:"post",data:{id:a},dataType:"json",success:function(c){if(c.error){toastr.error(c.error,"")}else{if(c.message){toastr.success(c.message,"");if(c.status=="0"){$(b).removeClass("active")}else{$(b).addClass("active")}}else{toastr.error("Có lỗi xảy ra, vui lòng thử lại","")}}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","")}})}function confirm_working(a){var c=0;var c=$(a).attr("data-id"),b=$(a).attr("data-jobid");$("body").openLoading();$.ajax({type:"POST",url:"fers/quotation/confirm_request",data:{id:c,jobid:b},dataType:"json",success:function(d){if(d.error){toastr.error(d.error,"");$("body").closeLoading()}else{window.location.reload(true)}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","");$("body").closeLoading()}});return false}function agree_working(d){var f=0;var f=$(d).attr("data-id"),e=$(d).attr("data-jobid"),c=$(d).closest(".modal-footer"),b=c.find("input[name=agree]"),a=b.is(":checked");if(!a){b.closest(".form-group").addClass("has-error")}else{$("#"+$(d).closest(".modal").attr("id")).modal("hide");b.closest(".form-group").removeClass("has-error");$("body").openLoading();$.ajax({type:"POST",url:"fers/quotation/agree_request",data:{id:f,jobid:e},dataType:"json",success:function(g){if(g.error){toastr.error(g.error,"");$("body").closeLoading()}else{if(g.redirect){window.location.href=g.redirect}else{window.location.reload(true)}}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","");$("body").closeLoading()}})}return false}function cancel_working(a,b){var d=$(a).attr("data-id"),b=$(a).parent().parent().find("#reasonworking").val(),c=$(a).attr("data-jobid");$("body").openLoading();$.ajax({type:"POST",url:"fers/quotation/cancel_request",data:{id:d,reason:b,jobid:c},dataType:"json",success:function(e){if(e.error){toastr.error(e.error,"");$("body").closeLoading()}else{window.location.reload(true)}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","");$("body").closeLoading()}});return false}function denied_working(a,b){var d=$(a).attr("data-id"),b=null,c=$(a).attr("data-jobid");$("body").openLoading();$.ajax({type:"POST",url:"fers/quotation/denied_request",data:{id:d,reason:b,jobid:c},dataType:"json",success:function(e){if(e.error){toastr.error(e.error,"");$("body").closeLoading()}else{window.location.reload(true)}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","");$("body").closeLoading()}});return false}function confirm_agree(a){var b=0;var b=$(a).attr("data-id");$("body").openLoading();$.ajax({type:"POST",url:"joers/agreement/approveagree",data:{aid:b},dataType:"json",success:function(c){if(c.error){toastr.error(c.error,"");$("body").closeLoading()}else{window.location.reload(true)}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","");$("body").closeLoading()}});return false}function cancel_agree(a,b){var d=$(a).attr("data-id"),c=$(a).parent().parent().find("#reasonagree"),b=c.val();$("body").openLoading();$.ajax({type:"POST",url:"joers/agreement/cancelagree",data:{aid:d,reason:b},dataType:"json",success:function(e){if(e.error){toastr.error(e.error,"");$("body").closeLoading()}else{window.location.reload(true)}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","");$("body").closeLoading()}});return false}function checkCoupon(f){var a=$($(f).attr("data-code")).val(),b=$(f).attr("data-sid"),h=$(f).attr("data-type"),k=$(f).attr("data-message"),i=$(f).attr("data-messageFormat"),j=$(f).attr("data-error"),d=parseInt($(f).attr("data-layout")),g=$(f).attr("data-callback"),c=$("input[name=amount]").val();$(f).button("loading");if(!d||isNaN(d)||typeof(d)=="undefined"){d=1}if(k){$(k).html("")}if(j){$(j).html("")}$.ajax({type:"POST",url:"product/coupon/checking",data:{code:a,sid:b,type:h,amount:c},dataType:"json",success:function(q){$(f).button("reset");if(q.error){if(j){$(j).html(q.error)}else{toastr.error(q.error,"")}}else{if(q.data){var e=$("input[name=max_discount]"),o=$("input[name=discount]"),n=$("input[name=discount_t]"),p=$("input[name=discount_m_f]"),l=$("input[name=discount_m_f_t]");e.val(q.data.max);o.val(q.data.value);n.val(q.data.type);p.val(q.data.manage_fee_value);l.val(q.data.manage_fee_type);switch(d){case 1:$("body").getOrderTotal();break}if(q.data.text){var m=q.data.text;if(i){m=i.replaceAll("{discount}",q.data.value_formatted)}if(k){$(k).html(m)}else{toastr.success(m,"")}}if(g){window[g](q)}}else{if(j){$(j).html("Có lỗi xảy ra, vui lòng thử lại")}else{toastr.error("Có lỗi xảy ra, vui lòng thử lại","")}}}},error:function(){$(f).button("reset");if(j){$(j).html("Có lỗi xảy ra, vui lòng thử lại")}else{toastr.error("Có lỗi xảy ra, vui lòng thử lại","")}}});return false}function contactJobOwner(b){var a=$(b).attr("data-id");$("body").openLoading();$.ajax({url:"fers/fers/contactjobowner",type:"post",data:{id:a},dataType:"json",success:function(c){$("body").closeLoading();if(c.error){toastr.error(c.error,"")}else{if(c.message){$(b).closest($(".offcanvas-body")).html(c.message)}else{toastr.error("Có lỗi xảy ra, vui lòng thử lại","")}}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","");$("body").closeLoading()}})}function changetype(b){var a=$(b).attr("data-link");$("body").openLoading();$.ajax({url:a,type:"post",data:{},dataType:"json",success:function(c){$("body").closeLoading();if(c.error){toastr.error(c.error,"")}else{if(c.message){if(c.redirect){window.location.href=c.redirect}else{window.location.reload(true)}}else{toastr.error("Có lỗi xảy ra, vui lòng thử lại","")}}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","");$("body").closeLoading()}});return false}function checkPhoneUnique(c){var b=$(c).val(),a=$(c).attr("data-url"),d={};if(!a){a="users/phone/checkUnique"}d.value=$(c).val();if($(c).data()){$.each($(c).data(),function(f,e){if(f.indexOf("params")==0){var g=f.replace("params","");g=g.toLowerCase();d[g]=e}})}if((b.length>=10&&b.length<=11&&/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(b))){$.ajax({url:a,type:"POST",data:d,dataType:"json",success:function(e){if(e.result!=1){$(c).closest(".form-group").addClass("has-error");if(e.error){toastr.error(e.error,"")}}else{$(c).closest(".form-group").removeClass("has-error")}},error:function(){$(c).closest(".form-group").addClass("has-error")}})}}function PopupCenter(a,i,j,d){var f=window.screenLeft!=undefined?window.screenLeft:screen.left;var b=window.screenTop!=undefined?window.screenTop:screen.top;width=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;height=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var c=((width/2)-(j/2))+f;var g=((height/2)-(d/2))+b;var e=window.open(a,i,"scrollbars=no, width="+j+", height="+d+", top="+g+", left="+c);if(window.focus){e.focus()}}(function($){var AuthSocial;var $_as_options_static={fbscope:null,ggconfig:{}};AuthSocial=(function(){AuthSocial.prototype.defaults={provider:null,params:{}};function AuthSocial($el,options){var i,_ref,_this=this;_this.options=$.extend({},_this.defaults,options);_this.$el=$el;_this.data=_this.$el.data();_ref=_this.defaults;for(i in _ref){if(_this.data[i]!=null){_this.options[i]=_this.data[i]}}_this.$el.on("click",function(){$.each(_this.data,function(i,v){if(i.indexOf("params")===0){var field=i.replace("params","");field=field.toLowerCase();_this.options.params[field]=v}});switch(_this.options.provider){case"facebook":_this.facebook();break;case"linkedin":_this.linkedin();break;case"google":_this.google();break}return false})}AuthSocial.prototype.facebook=function(){var _this=this,_params=_this.options.params;FB.login(function(response){if(response.status==="connected"){_params.access_token=response.authResponse.accessToken;FB.api("/me?fields=name,email,id,first_name,last_name,gender,link,location",function(data){if(data.email==null){toastr.error("Facbeook user email is empty, you can check something like this.","")}else{$("body").openLoading();jQuery.ajax({type:"POST",url:"login-facebook",data:_params,dataType:"json",success:function(response){$("body").closeLoading();if(response.error){toastr.error(response.error,"")}else{if(response.fncallback){eval(response.fncallback)(response)}if(response.redirect){window.location.href=response.redirect}else{if(!(_params["return"])&&!(_params.unload)){window.location.reload(true)}}}},error:function(xhr,ajaxOptions,thrownError){toastr.error(thrownError,"");$("body").closeLoading()}})}})}},{scope:$_as_options_static.fbscope})};AuthSocial.prototype.google=function(){var _this=this,_params=_this.options.params;gapi.auth.authorize($_as_options_static.ggconfig,function(authResult){if(authResult&&!authResult.error){gapi.client.load("plus","v1",function(){var request=gapi.client.plus.people.get({userId:"me"});request.execute(function(resp){$("body").openLoading();jQuery.ajax({type:"POST",url:"login-google",dataType:"json",data:{me:resp.result},success:function(response){if(response.error){toastr.error(response.error,"");$("body").closeLoading()}else{if(response.fncallback){eval(response.fncallback)(response)}if(response.redirect){window.location.href=response.redirect}else{if(!(_params["return"])&&!(_params.unload)){window.location.reload(true)}}}},error:function(xhr,ajaxOptions,thrownError){toastr.error(thrownError,"");$("body").closeLoading()}})})})}else{toastr.error(authResult.error,"");$("body").closeLoading()}})};AuthSocial.prototype.linkedin=function(){PopupCenter("login-linkedin","Login Linkedin",500,450)};return AuthSocial})();$.fn.AuthSocialSettings=function(options){$_as_options_static=$.extend({},$_as_options_static,options)};return $.fn.extend({authsocial:function(){var args,option;option=arguments[0],args=2<=arguments.length?__slice2.call(arguments,1):[];return this.each(function(){var data;data=$(this).data("authsocial-conf");if(!data){$(this).data("authsocial-conf",(data=new AuthSocial($(this),option)))}if(typeof option==="string"){return data[option].apply(data,args)}})}})})(jQuery);$.fn.fbsharingcustom=function(){var e=this,c={},b=$(e).attr("data-title"),d=$(e).attr("data-desc"),a=$(e).attr("data-href");e.options={};$(e).click(function(f){f.preventDefault();b=decodeURIComponent(b);b=b.replaceAll("+"," ");d=decodeURIComponent(d);d=d.replaceAll("+"," ");a=decodeURIComponent(a);FB.ui({method:"share",title:b,description:d,href:a},function(g){if(g&&!g.error_code){c.params=g;$("body").openLoading();jQuery.ajax({type:"POST",url:"users/credit/luckymoney",data:c,dataType:"json",success:function(h){$("body").closeLoading();if(h.error){toastr.error(h.error,"")}else{if(h.message){toastr.success(h.message,"")}else{toastr.error("Error","")}}},error:function(j,h,i){toastr.error(i,"");$("body").closeLoading()}})}else{}})})};function updateCard(f){var d=$(".shopping-cart"),a=$(".price-total"),b=$(".delivery-time-frame"),g=$("[name=product_id]").val();var c=$(".extra-product-item:checked").map(function(){return parseInt($(this).val())}).get();$.ajax({url:"order/getbox",type:"post",data:{id:g,extra:c,q:$("[name=numberProducts]").val()},dataType:"json",success:function(e){if(e.error){toastr.error(e.error,"")}else{if(e.productPrice&&e.productDuration){a.html(e.productPrice);b.html(e.productDuration)}else{toastr.error("Có lỗi xảy ra, vui lòng thử lại","")}}},error:function(){toastr.error("Có lỗi xảy ra, vui lòng thử lại","")}})}(function(a){a(document).ready(function(){a(".modal").each(function(c){a(this).on("show.bs.modal",function(f){var d=a(this).attr("data-easein");if(d=="shake"){a(".modal-dialog").velocity("callout."+d)}else{if(d=="pulse"){a(".modal-dialog").velocity("callout."+d)}else{if(d=="tada"){a(".modal-dialog").velocity("callout."+d)}else{if(d=="flash"){a(".modal-dialog").velocity("callout."+d)}else{if(d=="bounce"){a(".modal-dialog").velocity("callout."+d)}else{if(d=="swing"){a(".modal-dialog").velocity("callout."+d)}else{a(".modal-dialog").velocity("transition."+d)}}}}}}})});function b(e){this.$element=a(e);this.$content=this.$element.find(".modal-content");var d=this.$content.outerHeight()-this.$content.innerHeight();var i=60;var h=a(window).height()-(i+d);var c=this.$element.find(".modal-header").outerHeight()||0;var f=this.$element.find(".modal-footer").outerHeight()||0;var g=h-(c+f);this.$element.find(".modal-body").css({"max-height":g,"overflow-y":"auto"})}a(".modal").on("show.bs.modal",function(){a(this).show();b(this)});a(window).resize(function(){if(a(".modal.in").length!=0){b(a(".modal.in"))}})})})(jQuery);